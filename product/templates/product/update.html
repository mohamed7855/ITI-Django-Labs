{%extends 'index.html'%} {%load static %} {%block content%}
<div class="container">
  <h2>Update Product</h2>
  <form action="{% url 'product.update' product.id%}" method="post">
    {%csrf_token%}
    <div class="mb-3">
      <label for="Name" class="form-label">Name</label>
      <input
        type="text"
        class="form-control"
        id="Name"
        name="pName"
        value="{{product.name}}"
      />
    </div>
    <div class="mb-3">
      <label for="Price" class="form-label">Price</label>
      <input
        type="number"
        class="form-control"
        id="Price"
        name="pPrice"
        value="{{product.price}}"
      />
    </div>
    <div class="mb-3">
      <label for="Description" class="form-label">Description</label>
      <input
        type="text"
        class="form-control"
        id="Description"
        name="pDescription"
        value="{{product.description}}"
      />
    </div>
    <div style="width: 150px">
      <img src="{{product.getImgURL}}" alt="product" style="width: 100%" />
    </div>
    <div class="mb-3">
      <label for="Image" class="form-label">Change Image</label>
      <input type="file" class="form-control" id="Image" name="pImage" />
    </div>
    <div class="mb-3">
      <label for="Count" class="form-label">Count</label>
      <input
        type="number"
        class="form-control"
        id="Count"
        name="pCount"
        value="{{product.count}}"
      />
    </div>

    <div class="mb-3">
      <label for="category" class="form-label">Category</label>
      <select name="pCategory" id="category">
        {% for category in categories %}
        <div></div>
        {% if product.category.name == category.name %}
        <option value="{{ category.id }}" selected>{{ category.name }}</option>
        {% else %}
        <option value="{{ category.id }}">{{ category.name }}</option>
        {% endif %} {% endfor %}
      </select>
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
  <div style="color: red">{{msg}}</div>
</div>
{%endblock%}
